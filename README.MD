
# –ü—Ä–æ–≥–Ω–æ–∑–∏—Ä–æ–≤–∞–Ω–∏–µ –∫—Ä–µ–¥–∏—Ç–Ω–æ–≥–æ –¥–µ—Ñ–æ–ª—Ç–∞

End-to-end MLops –ø–∞–π–ø–ª–∞–π–Ω –¥–ª—è –ø—Ä–æ–≥–Ω–æ–∑–∏—Ä–æ–≤–∞–Ω–∏—è –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç–∏ –¥–µ—Ñ–æ–ª—Ç–∞ –ø–æ –∫—Ä–µ–¥–∏—Ç–Ω–æ–π –∫–∞—Ä—Ç–µ.

##  –û–±–∑–æ—Ä –ø—Ä–æ–µ–∫—Ç–∞

–≠—Ç–æ—Ç –ø—Ä–æ–µ–∫—Ç —Ä–µ–∞–ª–∏–∑—É–µ—Ç –ø–æ–ª–Ω—ã–π –∫–æ–Ω–≤–µ–π–µ—Ä –º–∞—à–∏–Ω–Ω–æ–≥–æ –æ–±—É—á–µ–Ω–∏—è –¥–ª—è –ø—Ä–æ–≥–Ω–æ–∑–∏—Ä–æ–≤–∞–Ω–∏—è –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç–∏ –¥–µ—Ñ–æ–ª—Ç–∞ –ø–æ –∫—Ä–µ–¥–∏—Ç–Ω–æ–π –∫–∞—Ä—Ç–µ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º [–Ω–∞–±–æ—Ä–∞ –¥–∞–Ω–Ω—ã—Ö Default of Credit Card Clients](https://archive.ics.uci.edu/ml/datasets/default+of+credit+card+clients) –∏–∑ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è UCI Machine Learning.

–†–µ—à–µ–Ω–∏–µ –æ—Ö–≤–∞—Ç—ã–≤–∞–µ—Ç –≤–µ—Å—å –∂–∏–∑–Ω–µ–Ω–Ω—ã–π —Ü–∏–∫–ª ML - –æ—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏ –¥–∞–Ω–Ω—ã—Ö –∏ —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–æ–≤ –¥–æ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è –º–æ–¥–µ–ª–∏ –∏ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞.

##  –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- **–í–∞–ª–∏–¥–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö** - Great Expectations –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –∫–∞—á–µ—Å—Ç–≤–∞ –¥–∞–Ω–Ω—ã—Ö
- **Feature Engineering** - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ –∏ –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ –ø—Ä–∏–∑–Ω–∞–∫–æ–≤
- **ML Pipeline** - Scikit-learn –ø–∞–π–ø–ª–∞–π–Ω—ã —Å –ø—Ä–µ–¥–æ–±—Ä–∞–±–æ—Ç–∫–æ–π –∏ –º–æ–¥–µ–ª–∏—Ä–æ–≤–∞–Ω–∏–µ–º
- **–¢—Ä–µ–∫–∏–Ω–≥ —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–æ–≤** - MLflow –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–∞–º–∏
- **–í–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ** - DVC –¥–ª—è –≤–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö –∏ –º–æ–¥–µ–ª–µ–π
- **REST API** - FastAPI –¥–ª—è –æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏—è –º–æ–¥–µ–ª–µ–π
- **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥** - –û–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ –¥—Ä–µ–π—Ñ–∞ –¥–∞–Ω–Ω—ã—Ö
- **CI/CD** - GitHub Actions –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
- **–ö–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü–∏—è** - Docker –¥–ª—è —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è

## –°—Ç—É—Ä—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞
```bash
‚îú‚îÄ‚îÄ üìä data/                          # –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã–º–∏
‚îÇ   ‚îú‚îÄ‚îÄ üìÅ raw/                       # –ò—Å—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
‚îÇ   ‚îú‚îÄ‚îÄ üìÅ processed/                 # –û–±—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
‚îÇ   ‚îî‚îÄ‚îÄ üìÅ external/                  # –í–Ω–µ—à–Ω–∏–µ –¥–∞–Ω–Ω—ã–µ
‚îÇ
‚îú‚îÄ‚îÄ üíª src/                           # –ò—Å—Ö–æ–¥–Ω—ã–π –∫–æ–¥
‚îÇ   ‚îú‚îÄ‚îÄ üìÅ data/                      # –û–±—Ä–∞–±–æ—Ç–∫–∞ –∏ –≤–∞–ª–∏–¥–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö
‚îÇ   ‚îú‚îÄ‚îÄ üìÅ models/                    # ML –º–æ–¥–µ–ª–∏ –∏ –ø–∞–π–ø–ª–∞–π–Ω—ã
‚îÇ   ‚îú‚îÄ‚îÄ üìÅ api/                       # FastAPI –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
‚îÇ   ‚îî‚îÄ‚îÄ üìÅ monitoring/                # –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ –¥—Ä–µ–π—Ñ–∞
‚îÇ
‚îú‚îÄ‚îÄ üß™ tests/                         # –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
‚îÇ   ‚îú‚îÄ‚îÄ test_data.py                  # –¢–µ—Å—Ç—ã –æ–±—Ä–∞–±–æ—Ç–∫–∏ –¥–∞–Ω–Ω—ã—Ö
‚îÇ   ‚îú‚îÄ‚îÄ test_models.py                # –¢–µ—Å—Ç—ã ML –º–æ–¥–µ–ª–µ–π
‚îÇ   ‚îî‚îÄ‚îÄ test_api.py                   # –¢–µ—Å—Ç—ã API endpoints
‚îÇ
‚îú‚îÄ‚îÄ ü§ñ models/                        # –û–±—É—á–µ–Ω–Ω—ã–µ –º–æ–¥–µ–ª–∏
‚îÇ   ‚îú‚îÄ‚îÄ best_model.pkl               # –õ—É—á—à–∞—è –º–æ–¥–µ–ª—å
‚îÇ   ‚îî‚îÄ‚îÄ model_versions/              # –í–µ—Ä—Å–∏–∏ –º–æ–¥–µ–ª–µ–π
‚îÇ
‚îú‚îÄ‚îÄ üìà reports/                       # –û—Ç—á–µ—Ç—ã –∏ –∞–Ω–∞–ª–∏—Ç–∏–∫–∞
‚îÇ   ‚îú‚îÄ‚îÄ üìÅ figures/                   # –ì—Ä–∞—Ñ–∏–∫–∏ –∏ –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ roc_curves/              # ROC –∫—Ä–∏–≤—ã–µ
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ feature_importance/      # –í–∞–∂–Ω–æ—Å—Ç—å –ø—Ä–∏–∑–Ω–∞–∫–æ–≤
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ drift_analysis/          # –ê–Ω–∞–ª–∏–∑ –¥—Ä–µ–π—Ñ–∞
‚îÇ   ‚îî‚îÄ‚îÄ üìÅ metrics/                   # –ú–µ—Ç—Ä–∏–∫–∏ –º–æ–¥–µ–ª–µ–π
‚îÇ       ‚îú‚îÄ‚îÄ training_metrics.json    # –ú–µ—Ç—Ä–∏–∫–∏ –æ–±—É—á–µ–Ω–∏—è
‚îÇ       ‚îú‚îÄ‚îÄ validation_metrics.json  # –ú–µ—Ç—Ä–∏–∫–∏ –≤–∞–ª–∏–¥–∞—Ü–∏–∏
‚îÇ       ‚îî‚îÄ‚îÄ drift_metrics.json       # –ú–µ—Ç—Ä–∏–∫–∏ –¥—Ä–µ–π—Ñ–∞
‚îÇ
‚îú‚îÄ‚îÄ üìì notebooks/                     # –ò—Å—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –∞–Ω–∞–ª–∏–∑
‚îÇ   ‚îú‚îÄ‚îÄ 01_eda.ipynb                 # Exploratory Data Analysis
‚îÇ   ‚îú‚îÄ‚îÄ 02_feature_engineering.ipynb # –ò–Ω–∂–µ–Ω–µ—Ä–∏—è –ø—Ä–∏–∑–Ω–∞–∫–æ–≤
‚îÇ   ‚îî‚îÄ‚îÄ 03_model_experiments.ipynb   # –≠–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç—ã —Å –º–æ–¥–µ–ª—è–º–∏
‚îÇ
‚îú‚îÄ‚îÄ ‚öôÔ∏è scripts/                       # –í—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ —Å–∫—Ä–∏–ø—Ç—ã
‚îÇ   ‚îú‚îÄ‚îÄ setup_environment.sh         # –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –æ–∫—Ä—É–∂–µ–Ω–∏—è
‚îÇ   ‚îú‚îÄ‚îÄ run_pipeline.py              # –ó–∞–ø—É—Å–∫ –ø–æ–ª–Ω–æ–≥–æ –ø–∞–π–ø–ª–∞–π–Ω–∞
‚îÇ   ‚îî‚îÄ‚îÄ deploy_model.py              # –î–µ–ø–ª–æ–π –º–æ–¥–µ–ª–∏
‚îÇ
‚îú‚îÄ‚îÄ üîß .github/                       # CI/CD –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è
‚îÇ   ‚îî‚îÄ‚îÄ workflows/
‚îÇ       ‚îú‚îÄ‚îÄ ci-cd.yml                   # –ù–µ–ø—Ä–µ—Ä—ã–≤–Ω–∞—è –¥–æ—Å—Ç–∞–≤–∫–∞ –∏ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è‚îÇ       
‚îÇ       ‚îî‚îÄ‚îÄ monitoring.yml           # –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –º–æ–¥–µ–ª–µ–π
‚îÇ
‚îú‚îÄ‚îÄ üê≥ Dockerfile                     # –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü–∏—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
‚îú‚îÄ‚îÄ üê≥ docker-compose.yml            # –û—Ä–∫–µ—Å—Ç—Ä–∞—Ü–∏—è –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤
‚îú‚îÄ‚îÄ üìã requirements.txt              # –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ Python
‚îú‚îÄ‚îÄ ‚ö° Makefile                       # –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è –∫–æ–º–∞–Ω–¥
‚îú‚îÄ‚îÄ üîó .gitignore                     # –ò–≥–Ω–æ—Ä–∏—Ä—É–µ–º—ã–µ —Ñ–∞–π–ª—ã Git
‚îî‚îÄ‚îÄ üìñ README.md                      # –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø—Ä–æ–µ–∫—Ç–∞


## –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### –ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è

- Python 3.9+
- Docker
- Git

## –£—Å—Ç–∞–Ω–æ–≤–∫–∞

1. **–ö–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π**

```bash
git clone <URL-—Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è>
cd credit_default_prediction
–°–æ–∑–¥–∞–π—Ç–µ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ

```bash
python -m venv venv
source venv/bin/activate  # –ù–∞ Windows: venv\Scripts\activate
–£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

```bash
pip install -r requirements.txt
–ù–∞—Å—Ç—Ä–æ–π—Ç–µ DVC (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

```bash
dvc init
dvc remote add -d myremote /path/to/remote/storage

### –ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö
```bash
python scripts/download_data.py
–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Ç–µ—Å—Ç–æ–≤—ã—Ö –¥–∞–Ω–Ω—ã—Ö
```bash
python scripts/create_sample_data.py
### –ü—Ä–µ–¥–æ–±—Ä–∞–±–æ—Ç–∫–∞ –¥–∞–Ω–Ω—ã—Ö
```bash
python src/data/preprocess.py
### –í–∞–ª–∏–¥–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö
```bash
python src/data/validation.py

### –û–±—É—á–µ–Ω–∏–µ –º–æ–¥–µ–ª–µ–π —Å —Ç—Ä–µ–∫–∏–Ω–≥–æ–º –≤ MLflow
```bash
python src/models/train.py
### –ü—Ä–æ—Å–º–æ—Ç—Ä —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–æ–≤
```bash
mlflow ui --backend-store-uri sqlite:///mlflow.db
### –û—Ç–∫—Ä–æ–π—Ç–µ –≤ –±—Ä–∞—É–∑–µ—Ä–µ: http://localhost:5000

## –†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ API
### –°–±–æ—Ä–∫–∞ Docker –æ–±—Ä–∞–∑–∞
```bash
docker build -t credit-default-api .
### –ó–∞–ø—É—Å–∫ API –ª–æ–∫–∞–ª—å–Ω–æ
```bash
docker run -p 8000:8000 credit-default-api
### –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ Docker Compose
``` bash
docker-compose up ml-api
## –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ API
###–ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–¥–æ—Ä–æ–≤—å—è —Å–µ—Ä–≤–∏—Å–∞
```bash
curl http://localhost:8000/health
–û—Ç–≤–µ—Ç:

json
{
  "status": "healthy",
  "timestamp": "2024-01-15T10:30:00Z"
}
### –û–¥–∏–Ω–æ—á–Ω—ã–π –ø—Ä–æ–≥–Ω–æ–∑
```bash
curl -X POST "http://localhost:8000/predict" \
     -H "Content-Type: application/json" \
     -d '{
       "LIMIT_BAL": 200000,
       "SEX": 2,
       "EDUCATION": 2,
       "MARRIAGE": 1,
       "AGE": 35,
       "PAY_0": 2,
       "PAY_2": 2,
       "PAY_3": -1,
       "PAY_4": -1,
       "PAY_5": -2,
       "PAY_6": -2,
       "BILL_AMT1": 100000,
       "BILL_AMT2": 120000,
       "BILL_AMT3": 90000,
       "BILL_AMT4": 80000,
       "BILL_AMT5": 70000,
       "BILL_AMT6": 60000,
       "PAY_AMT1": 5000,
       "PAY_AMT2": 4000,
       "PAY_AMT3": 3000,
       "PAY_AMT4": 2000,
       "PAY_AMT5": 1000,
       "PAY_AMT6": 5000
     }'
–û—Ç–≤–µ—Ç:

json
{
  "prediction": 0,
  "probability": 0.15,
  "status": "success"
}
### –ü–∞–∫–µ—Ç–Ω—ã–π –ø—Ä–æ–≥–Ω–æ–∑
```bash
curl -X POST "http://localhost:8000/batch_predict" \
     -H "Content-Type: application/json" \
     -d '[{...}, {...}]'
##–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥
###–ó–∞–ø—É—Å–∫ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏—è –¥—Ä–µ–π—Ñ–∞
```bash
python src/monitoring/drift_detection.py
###–ü—Ä–æ—Å–º–æ—Ç—Ä –º–µ—Ç—Ä–∏–∫
```bash
python src/monitoring/metrics_tracking.py
## DVC –ü–∞–π–ø–ª–∞–π–Ω
### –ó–∞–ø—É—Å–∫ –ø–æ–ª–Ω–æ–≥–æ –ø–∞–π–ø–ª–∞–π–Ω–∞
```bash
dvc repro
###–ü—Ä–æ—Å–º–æ—Ç—Ä –≥—Ä–∞—Ñ–∞ –ø–∞–π–ø–ª–∞–π–Ω–∞
```bash
dvc dag

## –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
–ó–∞–ø—É—Å–∫ —é–Ω–∏—Ç-—Ç–µ—Å—Ç–æ–≤
bash
pytest tests/ -v
–ó–∞–ø—É—Å–∫ —Å –ø–æ–∫—Ä—ã—Ç–∏–µ–º –∫–æ–¥–∞
bash
pytest --cov=src tests/
–ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–∞—á–µ—Å—Ç–≤–∞ –∫–æ–¥–∞
bash

## –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–¥–∞
black src/ tests/

## –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∏–ª—è
flake8 src/ tests/

## –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–∏–ø–æ–≤
mypy src/

## –û—Ü–µ–Ω–∫–∞ –º–æ–¥–µ–ª–∏
–ö–ª—é—á–µ–≤—ã–µ –º–µ—Ç—Ä–∏–∫–∏ –æ—Ç—Å–ª–µ–∂–∏–≤–∞—é—Ç—Å—è –≤ MLflow –∏ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ reports/:
ROC-AUC - –ü–ª–æ—â–∞–¥—å –ø–æ–¥ ROC-–∫—Ä–∏–≤–æ–π
Precision, Recall, F1-Score - –ú–µ—Ç—Ä–∏–∫–∏ –∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏–∏
Feature Importance - –í–∞–∂–Ω–æ—Å—Ç—å –ø—Ä–∏–∑–Ω–∞–∫–æ–≤
Validation Reports - –û—Ç—á–µ—Ç—ã –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –¥–∞–Ω–Ω—ã—Ö

## –õ–∏—Ü–µ–Ω–∑–∏—è
–≠—Ç–æ—Ç –ø—Ä–æ–µ–∫—Ç —Å–æ–∑–¥–∞–Ω –≤ –æ–±—Ä–∞–∑–æ–≤–∞—Ç–µ–ª—å–Ω—ã—Ö —Ü–µ–ª—è—Ö.

